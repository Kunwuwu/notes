# IO多路转接（select、poll、epoll简单介绍）

---

## IO操作方式

- 阻塞等待
  - 好处：不占用cpu宝贵的时间片；
  - 坏处：同时刻只能处理一个操作，效率低；
  - 解决办法：多线程或者多进程。
- 非阻塞，忙轮询
  - 优点：提高了程序的执行效率；
  - 缺点：需要占用更多的cpu和系统资源；
  - 解决方案：使用IO多路转接技术select/poll/epoll:
    - 第一种：select/poll，select和poll本质上差不多，只会返回目前有几个I/O事件；
    - 第二种：epoll，不仅会返回有几个I/O事件，还会告知是哪几个流发生了I/O事件。

## 什么是IO多路转接技术？

- 先构造一张有关文件描述符的列表，将要监听的文件描述符添加到表中；
- 然后调用一个函数，监听该表中的文件描述符，直到这些描述符表中的一个I/O操作时，该函数才返回；
  - 该函数为阻塞函数
  - 函数对文件描述符的检测操作是通过内核完成的。
- 在返回时，它告诉进程有多少（哪些）描述符要进行I/O操作；