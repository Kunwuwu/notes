# [CVTE C++一面面经](https://www.nowcoder.com/discuss/170448 )

### 1.项目里觉得做的最好的是哪一部分？

应该是Buffer类的实现，用来方便和高效率的收发消息。一定要好好看看。

### 2.线程池是用自己写的还是用的系统api？

C++没有线程池的系统api应该。。自己实现的，整个服务器的时间循环在一个函数里，每个线程就负责这么一个函数的运算，如果有新连接到达，就把一个线程中的时间循环对象取出来，并加入新连接。

###  5.C++中class和struct有什么区别？

除了class默认是private的，struct默认是public的，其他没有区别。

### 6.讲一下多态

多态是同一个接口，在不同的情况下具有不同的行为或者是不同的实例有不同的行为。

- 静多态：重载和模板；
- 动多态：虚函数。

### 7.const和非const函数可以实现重载吗？

可以的，const也是重载的一个依据。

### 8.虚函数实现机制

类中将函数声明为虚函数，会在编译期生成一个虚函数表。每个对象都会有一个虚函数表指针指向这个虚函数表，虚函数的调用就是通过这个指针来调用。

### 9.基类里private成员函数可以声明为虚函数吗？

可以，虽然没什么意义，但测试过确实可以。

### 10.用过什么容器？

最多的肯定就是vector、然后map、set，priority_queue优先队列也用过。

### 11.vector v1(100, 0)和vector v2(200,0) ，它们sizeof大小分别为多少？

vector对象本身的大小和其中元素的多少是没有关系的，因为申请的是动态内存。我用的64位操作系统，IDE
是CLion，vector对象的大小是24字节。

### 12.vector使用迭代器进行循环，当循环开始时push_back一个数在后面，会发生什么？

迭代器可能会失效。如果capacity扩容的话，所有迭代器都会失效，如果没有发生扩容，只有end()返回的迭代器会失效。

### 13.std::bind()使用成员函数和普通函数有什么区别？

绑定成员函数回调的时候需要把对象也传进去，但是普通函数不用。

### 14.C++11新特性了解吗？

了解一些，智能指针，std::bind()，std::function()，auto关键字，explicit关键字，for循环...

1. 关键字
   - auto关键字
   - nullptr
   - for(Type it : STH)循环
2. STL容器
   - std::array
   - std::unordered_map
   - std::unordered_set
3. 多线程
   - std::thread
   - std::mutex
   - std::condition_variable
4. 智能指针
   - std::shared_ptr
   - std::weak_ptr
5. 其他
   - std::function
   - std::bind()
   - lambda表达式

### 15.智能指针了解吗？

了解，用过一些。项目中用到了shared_ptr、unique_ptr，然后还了解过weak_ptr。

### 16.TCP和UDP的区别

- TCP基于连接的，UDP基于无连接；
- TCP基于可靠的服务，通过TCP传输的数据不出现差错，UDP尽最大努力交付；
- TCP面向字节流，UDP面向报文；
- TCP有拥塞控制，UDP没有，能保证网络拥塞时不会让源主机的发送效率降低；
- TCP是点到点的，UDP可以一对多、多对多；
- TCP对系统资源要求多，UDP要求少；

### 17.进程A和进程B只能进行网络通信，当进程B挂掉之后进程A如何快速知道进程B挂掉？

TCP心跳机制吗？还有就是通过进程B的端口号是否在被占用？

### 18.讲一下MTU和MSS

MTU是网络传输最大报文包，MSS是网络传输数据多大长度。MSS加包头数据就等于MTU，就比如有1000字节数据使用TCP传输的话，MSS就是1000，MTU就还要加上TCP头部的20字节，不过除了TCP的头部还有其他协议的包头信息，比如IP头部数据。

### 19.TCP头部多大？UDP头部多大？

最小为20字节。UDP头部是8字节。

### 20.一个进程里包含什么？

进程控制块、程序段、数据段三部分组成。

### 21.一个进程在32系统上寻址空间最多多大？

4GB。

### 22.实现一个pow函数？

```cpp
double pow(double a, int b) {
    if (b == 1)
        return a;
    if (b == 0)
        return 1;
    else {
        int c = b / 2;
        return pow(a, c) * pow(a, b - c);
    }
}
```

### 23.两个栈实现一个队列的最优方法？

push进栈1，如果是pop则检查栈2是否为空，为空则将栈1全部压到栈2，栈2顶出栈；不为空栈2顶直接出栈。

### 24.假如有一万个单词，分别用空格隔开，统计重复单词的次数。

顺序读，找出每个单词，然后map存储，统计次数。

